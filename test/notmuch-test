#!/bin/sh

# Run tests
#
# Copyright (c) 2005 Junio C Hamano
#
# Adapted from a Makefile to a shell script by Carl Worth (2010)

cd $(dirname "$0")

TESTS="basic new search json thread-naming reply dump-restore uuencode thread-order author-order from-guessing long-id encoding maildir-sync"

# Clean up any results from a previous run
rm -r test-results >/dev/null 2>/dev/null

# Run the tests
for test in $TESTS; do
	./$test "$@"
done

# Report results
./aggregate-results.sh test-results/*

# Clean up
rm -r test-results corpus.mail
